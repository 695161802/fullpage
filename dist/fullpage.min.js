!function (e, t) {
    "use strict";
    e.fullpage = t()
}(this, function () {
    "use strict";
    function e(e, t) {
        return t ? t.querySelector(e) : document.querySelector(e)
    }

    function t(e, t) {
        return t ? t.querySelectorAll(e) : document.querySelectorAll(e)
    }

    function n(e, t) {
        var n;
        for (n in t)t.hasOwnProperty(n) && (e.style[n] = t[n])
    }

    function o() {
        function e(e, t, o) {
            "y" === o ? (n(e, {
                transform: "translate3d(0," + t + "px,0)",
                "-webkit-transform": "translate3d(0," + t + "px,0)"
            }), console.log("setAttr Done")) : "x" === o && n(e, {
                transform: "translate3d(" + t + "px,0,0)",
                "-webkit-transform": "translate3d(" + t + "px,0,0)"
            })
        }

        return {translate: e}
    }

    function r(e, t) {
        "object" != typeof t && (t = {});
        for (var n in t)e.hasOwnProperty(n) && (e[n] = t[n]);
        return e
    }

    function a() {
        function e() {
            o(), r()
        }

        function o() {
            n(d, {
                transform: "translate3d(0,0,0)",
                "-webkit-transform": "translate3d(0,0,0)",
                transitionDuration: h.pageSpeed + "ms",
                "-webkit-transitionDuration": h.pageSpeed + "ms",
                display: "block"
            });
            for (var e = f.length - 1; e >= 0; e--)f[e].style.height = document.body.scrollHeight + "px"
        }

        function r() {
            for (var e, n = t(".slide-wrap"), o = n.length - 1; o >= 0; o--) {
                e = t(".slide", n[o]);
                for (var r = e.length - 1; r >= 0; r--)e[r].style.width = v + "px";
                n[o].style.width = e.length * v + "px", n[o].dataset.x = "0", n[o].dataset.index = "1"
            }
        }

        return {init: e, initContent: o, initSlider: r}
    }

    function l(e) {
        s(e), u(), c()
    }

    function i(t, n) {
        d = e(t), h = r(m, n), a().init(), l(d)
    }

    function s(e) {
        var t, n, o, r = {}, a = {}, l = !1;
        e.addEventListener("touchstart", function (e) {
            r = {}, a = {}, e.preventDefault(), o = e.touches[0], r.x = o.pageX, r.y = o.pageY
        }, !1), e.addEventListener("touchmove", function (e) {
            e.preventDefault(), o = e.touches[0]
        }, !1), e.addEventListener("touchend", function (e) {
            e.preventDefault(), a.x = o.pageX, a.y = o.pageY, t = r.x - a.x, n = r.y - a.y;
            var i = h.threshold;
            l = Math.abs(t) - Math.abs(n) <= 0, l ? n > i ? x.move.next() : -i > n && x.move.pre() : t > i ? x.slide.next() : -i > t && x.slide.pre()
        }, !1)
    }

    function c() {
        document.addEventListener("mousewheel", function (e) {
            console.log(e.wheelDeltaY, e.deltaY, e);
            var t = e.deltaY;
            t > 0 ? x.move.next() : 0 > t && x.move.pre()
        }, !1)
    }

    function u() {
        document.addEventListener("keydown", function (e) {
            var t = e.keyCode || e.which;
            switch (t) {
                case 37:
                    x.slide.pre();
                    break;
                case 38:
                    x.move.pre();
                    break;
                case 39:
                    x.slide.next();
                    break;
                case 40:
                    x.move.next()
            }
        }, !1)
    }

    var d, f = t(".section"), p = 0, g = document.body.scrollHeight, v = document.body.scrollWidth, h = {}, m = {
        threshold: 30,
        pageSpeed: 600,
        afterLoad: null,
        beforeLeave: null
    }, x = {
        nowPage: 1, scrollPage: function (e) {
            var t = e - x.nowPage, n = f[x.nowPage - 1], r = f[e - 1];
            return e >= 1 && e <= f.length ? ("function" == typeof h.beforeLeave && h.beforeLeave.call(n, x.nowPage, e), p -= t * g, o().translate(d, p, "y"), x.nowPage = e, "function" == typeof h.afterLoad && (h.pageSpeed = h.pageSpeed ? 500 : h.pageSpeed, setTimeout(function () {
                h.afterLoad.call(r, e)
            }, h.pageSpeed)), console.log("scrollPage to", e), !0) : !1
        }, scrollSlide: function (t) {
            var n = e(".slide-wrap", f[x.nowPage - 1]);
            if (!n)return console.log("This page has no slide"), !1;
            var r = f[x.nowPage - 1].querySelectorAll(".slide"), a = n.dataset, l = parseInt(a.index), i = a.x, s = t - l;
            return t >= 1 && t <= r.length ? (i -= s * v, o().translate(n, i, "x"), a.x = i, a.index = t, console.log("scrollSlide to", t), !0) : void 0
        }, moveTo: function (e, t) {
            return x.scrollPage(e) ? (t && x.scrollSlide(t), !0) : !1
        }, move: {
            next: function (e) {
                if (x.scrollPage(x.nowPage + 1)) {
                    var t = Array.prototype.slice.call(arguments, 1);
                    return "function" == typeof e && e.call(null, t), !0
                }
                return !1
            }, pre: function (e) {
                if (x.scrollPage(x.nowPage - 1)) {
                    var t = Array.prototype.slice.call(arguments, 1);
                    return "function" == typeof e && e.call(null, t), !0
                }
                return !1
            }
        }, slide: {
            next: function () {
                var t = e(".slide-wrap", f[x.nowPage - 1]);
                if (t) {
                    var n = t.dataset, o = parseInt(n.index);
                    return x.scrollSlide(o + 1) ? (n.index = o + 1, !0) : !1
                }
                return !1
            }, pre: function () {
                var t = e(".slide-wrap", f[x.nowPage - 1]);
                if (t) {
                    var n = t.dataset, o = parseInt(n.index);
                    return x.scrollSlide(o - 1) ? (n.index = o - 1, !0) : !1
                }
                return !1
            }
        }
    };
    return {
        init: i,
        scrollPage: x.scrollPage,
        scrollSlide: x.scrollSlide,
        moveTo: x.moveTo,
        moveToNext: x.move.next,
        moveToPre: x.move.pre,
        slideToNext: x.slide.next,
        slideToPre: x.slide.pre
    }
});