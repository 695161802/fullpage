!function(e,t){"use strict";e.fullpage=t()}(this,function(){"use strict";function e(e,t){return t?t.querySelector(e):document.querySelector(e)}function t(e,t){return t?t.querySelectorAll(e):document.querySelectorAll(e)}function n(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);return e}function o(){function e(e,t,o){"y"===o?n(e,{transform:"translate3d(0,"+t+"px,0)","-webkit-transform":"translate3d(0,"+t+"px,0)"}):"x"===o&&n(e,{transform:"translate3d("+t+"px,0,0)","-webkit-transform":"translate3d("+t+"px,0,0)"})}return{translate:e}}function r(e,t){"object"!=typeof t&&(t={});for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n]);return e}function l(e){var t,n,o,r={},l={},a=!1;e.addEventListener("touchstart",function(e){r={},l={},e.preventDefault(),o=e.touches[0],r.x=o.pageX,r.y=o.pageY},!1),e.addEventListener("touchmove",function(e){e.preventDefault(),o=e.touches[0]},!1),e.addEventListener("touchend",function(e){e.preventDefault(),l.x=o.pageX,l.y=o.pageY,t=r.x-l.x,n=r.y-l.y;var i=h.threshold;a=Math.abs(t)-Math.abs(n)<=0,a?n>i?y.move.next():-i>n&&y.move.pre():t>i?y.slide.next():-i>t&&y.slide.pre()},!1)}function a(){document.addEventListener("mousewheel",function(e){console.log(e.wheelDeltaY,e.deltaY,e);var t=e.deltaY;t>0?y.move.next():0>t&&y.move.pre()},!1)}function i(){document.addEventListener("keydown",function(e){var t=e.keyCode||e.which;switch(t){case 37:y.slide.pre();break;case 38:y.move.pre();break;case 39:y.slide.next();break;case 40:y.move.next()}},!1)}function s(){function e(){o(),r()}function o(){n(f,{transform:"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)",transitionDuration:h.pageSpeed+"ms","-webkit-transitionDuration":h.pageSpeed+"ms",display:"block"});for(var e=p.length-1;e>=0;e--)p[e].style.height=document.body.scrollHeight+"px"}function r(){for(var e,n=t(".slide-wrap"),o=n.length-1;o>=0;o--){e=t(".slide",n[o]);for(var r=e.length-1;r>=0;r--)e[r].style.width=x+"px";n[o].style.width=e.length*x+"px",n[o].dataset.x="0",n[o].dataset.index="1"}}return{init:e,initContent:o,initSlide:r}}function c(){function e(){t()}function t(){var e=null;h.autoScroll&&(e=setInterval(function(){y.move.next()},h.autoScrollDuration))}return{init:e,autoScroll:t}}function u(e){l(e),i(),a()}function d(t,n){f=e(t),h=r(m,n),s().init(),c().init(),u(f)}var f,p=t(".section"),v=0,g=document.body.scrollHeight,x=document.body.scrollWidth,h={},m={threshold:30,pageSpeed:600,autoScroll:!1,autoScrollDuration:1e3,loopSection:!0,loopSlide:!0,afterLoad:null,beforeLeave:null},y={nowPage:1,scrollPage:function(e){var t=e-y.nowPage,n=p[y.nowPage-1],r=p[e-1];return e>=1&&e<=p.length?("function"==typeof h.beforeLeave&&h.beforeLeave.call(n,y.nowPage,e),v-=t*g,o().translate(f,v,"y"),y.nowPage=e,"function"==typeof h.afterLoad&&(h.pageSpeed=h.pageSpeed?500:h.pageSpeed,setTimeout(function(){h.afterLoad.call(r,e)},h.pageSpeed)),!0):!1},scrollSlide:function(t){var n=e(".slide-wrap",p[y.nowPage-1]);if(!n)return console.log("This page has no slide"),!1;var r=p[y.nowPage-1].querySelectorAll(".slide"),l=n.dataset,a=parseInt(l.index),i=l.x,s=t-a;return t>=1&&t<=r.length?(i-=s*x,o().translate(n,i,"x"),l.x=i,l.index=t,!0):!1},moveTo:function(e,t){return y.scrollPage(e)?t?!!y.scrollSlide(t):!0:!1},move:{next:function(e){if(y.scrollPage(y.nowPage+1)){var t=Array.prototype.slice.call(arguments,1);return"function"==typeof e&&e.call(null,t),!0}return h.loopSection?(y.moveTo(1),!0):!1},pre:function(e){if(y.scrollPage(y.nowPage-1)){var t=Array.prototype.slice.call(arguments,1);return"function"==typeof e&&e.call(null,t),!0}return!1}},slide:{next:function(){var t=e(".slide-wrap",p[y.nowPage-1]);if(t){var n=t.dataset,o=parseInt(n.index);return y.scrollSlide(o+1)?(n.index=o+1,!0):h.loopSlide&&y.scrollSlide(1)?(n.index=1,!0):!1}return!1},pre:function(){var t=e(".slide-wrap",p[y.nowPage-1]),n=p[y.nowPage-1].querySelectorAll(".slide");if(t){var o=t.dataset,r=parseInt(o.index);return y.scrollSlide(r-1)?(o.index=r-1,!0):h.loopSlide&&y.scrollSlide(n.length)?(o.index=n.length,!0):!1}return!1}}};return{init:d,scrollPage:y.scrollPage,scrollSlide:y.scrollSlide,moveTo:y.moveTo,moveToNext:y.move.next,moveToPre:y.move.pre,slideToNext:y.slide.next,slideToPre:y.slide.pre}});