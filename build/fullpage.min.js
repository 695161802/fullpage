/*!
 * fullpage 1.4.0
 * Author: 抹桥 yq12315@gmail.com
 * Homepage: https://github.com/kisnows/fullpage.js#readme
 * Release under MIT.
 * 
 */
!function(n){function g(e){if(I[e])return I[e].exports;var l=I[e]={exports:{},id:e,loaded:!1};return n[e].call(l.exports,l,l.exports,g),l.loaded=!0,l.exports}var I={};return g.m=n,g.c=I,g.p="",g(0)}([function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bootstrap = __webpack_require__(2);\n\nvar fullpage = {\n  init: _bootstrap.bootstrap,\n  scrollPage: _bootstrap.page.scrollPage,\n  scrollSlide: _bootstrap.page.scrollSlide,\n  moveTo: _bootstrap.page.moveTo,\n  moveToNext: _bootstrap.page.move.next,\n  moveToPre: _bootstrap.page.move.pre,\n  slideToNext: _bootstrap.page.slide.next,\n  slideToPre: _bootstrap.page.slide.pre\n};\n\n(function (global) {\n  global.fullpage = fullpage;\n})(window);\n\nexports.default = fullpage;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvaW5kZXguanM/MWZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2Jvb3RzdHJhcCwgcGFnZX0gZnJvbSAnLi9ib290c3RyYXAnXG5sZXQgZnVsbHBhZ2UgPSB7XG4gIGluaXQ6IGJvb3RzdHJhcCxcbiAgc2Nyb2xsUGFnZTogcGFnZS5zY3JvbGxQYWdlLFxuICBzY3JvbGxTbGlkZTogcGFnZS5zY3JvbGxTbGlkZSxcbiAgbW92ZVRvOiBwYWdlLm1vdmVUbyxcbiAgbW92ZVRvTmV4dDogcGFnZS5tb3ZlLm5leHQsXG4gIG1vdmVUb1ByZTogcGFnZS5tb3ZlLnByZSxcbiAgc2xpZGVUb05leHQ6IHBhZ2Uuc2xpZGUubmV4dCxcbiAgc2xpZGVUb1ByZTogcGFnZS5zbGlkZS5wcmVcbn07XG5cbihmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gIGdsb2JhbC5mdWxscGFnZSA9IGZ1bGxwYWdlXG59KSh3aW5kb3cpXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bGxwYWdlXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaW5kZXguanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFDQTtBQVVBO0FBQ0E7QUFEQTtBQUNBO0FBR0EiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar utils = {\n  $$: function $$(el, parent) {\n    if (!parent) {\n      return document.querySelectorAll(el);\n    } else {\n      return parent.querySelectorAll(el);\n    }\n  },\n  setCss: function setCss(el, props) {\n    var prop = undefined;\n    for (prop in props) {\n      if (props.hasOwnProperty(prop)) {\n        el.style[prop] = props[prop];\n      }\n    }\n    return el;\n  },\n  translate: function translate(el, value, direction) {\n    if (direction === 'y') {\n      this.setCss(el, {\n        'transform': 'translate3d(0,' + value + 'px,0)',\n        '-webkit-transform': 'translate3d(0,' + value + 'px,0)'\n      });\n      // console.log('setAttr Done')\n    } else if (direction === 'x') {\n        this.setCss(el, {\n          'transform': 'translate3d(' + value + 'px,0,0)',\n          '-webkit-transform': 'translate3d(' + value + 'px,0,0)'\n        });\n      }\n  },\n\n  /**\n   * 只给一组元素中的某一个元素添加class\n   * @param els 一组元素\n   * @param theOne 要添加元素的index值\n   */\n  addClassToOneEle: function addClassToOneEle(els, theOne) {\n    for (var j = els.length - 1; j >= 0; j--) {\n      els[j].classList.remove('active');\n    }\n    els[theOne].classList.add('active');\n  },\n\n  transitionEvent: whichTransitionEvent()\n\n};\n\nfunction whichTransitionEvent() {\n  var t = undefined;\n  var el = document.createElement('fakeelement');\n  var transitions = {\n    'transition': 'transitionend',\n    'OTransition': 'oTransitionEnd',\n    'MozTransition': 'transitionend',\n    'WebkitTransition': 'webkitTransitionEnd',\n    'MsTransition': 'msTransitionEnd'\n  };\n\n  for (t in transitions) {\n    if (el.style[t] !== undefined) {\n      return transitions[t];\n    }\n  }\n}\n\nexports.default = Object.create(utils);//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvdXRpbHMuanM/MmI0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdXRpbHMgPSB7XG4gICQkIChlbCwgcGFyZW50KSB7XG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWwpXG4gICAgfVxuICB9LFxuXG4gIHNldENzcyAoZWwsIHByb3BzKSB7XG4gICAgbGV0IHByb3BcbiAgICBmb3IgKHByb3AgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICBlbC5zdHlsZVtwcm9wXSA9IHByb3BzW3Byb3BdXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbFxuICB9LFxuXG4gIHRyYW5zbGF0ZSAoZWwsIHZhbHVlLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSAneScpIHtcbiAgICAgIHRoaXMuc2V0Q3NzKGVsLCB7XG4gICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoMCwnICsgdmFsdWUgKyAncHgsMCknLFxuICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoMCwnICsgdmFsdWUgKyAncHgsMCknXG4gICAgICB9KVxuICAgICAgLy8gY29uc29sZS5sb2coJ3NldEF0dHIgRG9uZScpXG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICd4Jykge1xuICAgICAgdGhpcy5zZXRDc3MoZWwsIHtcbiAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAncHgsMCwwKScsXG4gICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAncHgsMCwwKSdcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiDlj6rnu5nkuIDnu4TlhYPntKDkuK3nmoTmn5DkuIDkuKrlhYPntKDmt7vliqBjbGFzc1xuICAgKiBAcGFyYW0gZWxzIOS4gOe7hOWFg+e0oFxuICAgKiBAcGFyYW0gdGhlT25lIOimgea3u+WKoOWFg+e0oOeahGluZGV45YC8XG4gICAqL1xuICBhZGRDbGFzc1RvT25lRWxlIChlbHMsIHRoZU9uZSkge1xuICAgIGZvciAobGV0IGogPSBlbHMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgIGVsc1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgIH1cbiAgICBlbHNbdGhlT25lXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICB9LFxuICB0cmFuc2l0aW9uRXZlbnQ6IHdoaWNoVHJhbnNpdGlvbkV2ZW50KClcblxufVxuXG5mdW5jdGlvbiB3aGljaFRyYW5zaXRpb25FdmVudCAoKSB7XG4gIGxldCB0XG4gIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zha2VlbGVtZW50JylcbiAgbGV0IHRyYW5zaXRpb25zID0ge1xuICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICdPVHJhbnNpdGlvbic6ICdvVHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01zVHJhbnNpdGlvbic6ICdtc1RyYW5zaXRpb25FbmQnXG4gIH1cblxuICBmb3IgKHQgaW4gdHJhbnNpdGlvbnMpIHtcbiAgICBpZiAoZWwuc3R5bGVbdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRyYW5zaXRpb25zW3RdXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9iamVjdC5jcmVhdGUodXRpbHMpXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvdXRpbHMuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBSEE7QUFGQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBS0E7QUFoQkE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBOztBQURBO0FBT0E7QUFDQTtBQUNBO0FBRkE7QUFEQTtBQTFCQTtBQUNBOzs7Ozs7QUFzQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQTNDQTtBQUNBO0FBNENBO0FBQ0E7QUE5Q0E7QUFDQTtBQWdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQVhBO0FBQ0E7QUFpQkEiLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.page = exports.bootstrap = undefined;\n\nvar _utils = __webpack_require__(1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nvar _constant = __webpack_require__(3);\n\nvar _events = __webpack_require__(4);\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sectionContent = undefined;\nvar sections = undefined;\nvar options = undefined;\nvar page = undefined;\n\nfunction bootstrap(ele, Customize) {\n  sectionContent = _utils2.default.$$(ele)[0];\n  sections = _utils2.default.$$('.fp-section');\n  options = Object.assign({}, _constant.defaults, Customize);\n  initEle();\n  (0, _events2.default)(options, page);\n}\n\nfunction initEle() {\n  function init() {\n    initContent();\n    initSlide();\n    pageController();\n    customize();\n  }\n\n  init();\n  /**\n   * 初始化 Section\n   */\n  function initContent() {\n    _utils2.default.setCss(sectionContent, {\n      'transform': 'translate3d(0,0,0)',\n      '-webkit-transform': 'translate3d(0,0,0)',\n      'transitionDuration': options.pageSpeed + 'ms',\n      '-webkit-transitionDuration': options.pageSpeed + 'ms',\n      'display': 'block'\n    });\n\n    sectionContent.addEventListener(_utils2.default.transitionEvent, function () {\n      page.isScrolling = false;\n    }, false);\n\n    for (var i = sections.length - 1; i >= 0; i--) {\n      sections[i].style.height = _constant.stepHeight + 'px';\n    }\n\n    sections[page.nowPage - 1].classList.add('active');\n  }\n\n  /**\n   * 初始化 Slide\n   */\n  function initSlide() {\n    var slideWrap = _utils2.default.$$('.fp-slide-wrap');\n    var slides = undefined;\n\n    function slideWrapInitHandle() {\n      page.isScrolling = false;\n    }\n\n    for (var i = slideWrap.length - 1; i >= 0; i--) {\n      slides = _utils2.default.$$('.fp-slide', slideWrap[i]);\n      for (var j = slides.length - 1; j >= 0; j--) {\n        slides[j].style.width = _constant.stepWidth + 'px';\n      }\n      slideWrap[i].style.width = slides.length * _constant.stepWidth + 'px';\n      slideWrap[i].dataset.x = '0';\n      slideWrap[i].dataset.index = '1';\n      slideWrap[i].addEventListener(_utils2.default.transitionEvent, slideWrapInitHandle, false);\n    }\n  }\n\n  /**\n   * 初始化翻页控制点\n   */\n  function pageController() {\n    function init() {\n      createControllerNode();\n      bindEvent();\n      initController();\n    }\n\n    init();\n    // 插入控制点\n    function createControllerNode() {\n      var controllerWrap = document.createElement('div');\n      var controllerText = '';\n      controllerWrap.className = 'fp-controller';\n      for (var i = sections.length; i--; i > 0) {\n        controllerText += \"<div class='fp-controller-dotted'></div>\";\n      }\n      controllerWrap.innerHTML = controllerText;\n      document.body.appendChild(controllerWrap);\n    }\n\n    // 给控制点绑定切换事件\n    function bindEvent() {\n      var controllers = _utils2.default.$$('.fp-controller-dotted');\n      for (var i = controllers.length - 1; i >= 0; i--) {\n        controllers[i].addEventListener('click', helper(i + 1), false);\n      }\n      function helper(i) {\n        return function () {\n          _utils2.default.addClassToOneEle(controllers, i - 1);\n          page.moveTo(i);\n        };\n      }\n    }\n\n    // 获取控制点初试状态\n    function initController() {\n      var controllers = _utils2.default.$$('.fp-controller-dotted');\n      controllers[page.nowPage - 1].classList.add('active');\n    }\n  }\n\n  /**\n   * 初始化定制内容\n   */\n  function customize() {\n    var prop = {\n      autoScroll: function autoScroll() {\n        var timer = null;\n        if (options.autoScroll) {\n          timer = setInterval(function () {\n            page.move.next();\n          }, options.autoScrollDuration);\n        }\n      }\n    };\n\n    for (var key in prop) {\n      if (prop.hasOwnProperty(key)) {\n        prop[key]();\n      }\n    }\n  }\n}\n\nexports.page = page = {\n  nowPage: 1,\n  isScrolling: false,\n  translate3dY: 0,\n  /**\n   * Scroll to a specified page.\n   * @param pageIndex {number} The page index you want scroll to.\n   * @returns {boolean}\n   */\n  scrollPage: function scrollPage(pageIndex) {\n    var pageDiff = pageIndex - page.nowPage;\n    var leaveSection = sections[page.nowPage - 1];\n    var nowSection = sections[pageIndex - 1];\n    var controllers = _utils2.default.$$('.fp-controller-dotted');\n    if (pageIndex >= 1 && pageIndex <= sections.length && !page.isScrolling && pageDiff) {\n      if (typeof options.beforeLeave === 'function') {\n        /**\n         * leaveSection 函数内部 this 指向，将要离开的 section\n         * page.nowPage 将要离开页面的 index\n         * pageIndex    将要载入页面的 index\n         */\n        options.beforeLeave.call(leaveSection, page.nowPage, pageIndex);\n      }\n\n      leaveSection.classList.remove('active');\n      _utils2.default.addClassToOneEle(controllers, pageIndex - 1);\n      page.translate3dY -= pageDiff * _constant.stepHeight;\n      _utils2.default.translate(sectionContent, page.translate3dY, 'y');\n      page.isScrolling = true;\n      page.nowPage = pageIndex;\n      nowSection.classList.add('active');\n\n      if (typeof options.afterLoad === 'function') {\n        options.pageSpeed = options.pageSpeed ? 500 : options.pageSpeed;\n        setTimeout(function () {\n          /**\n           * nowSection 函数内部 this 指向，载入后的 section\n           * pageIndex 载入后的 index\n           */\n          options.afterLoad.call(nowSection, pageIndex);\n        }, options.pageSpeed);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  },\n  /**\n   * Scroll to a specified slide.\n   * @param slideIndex {number} The slide index you want scroll to.\n   * @returns {boolean}\n   */\n  scrollSlide: function scrollSlide(slideIndex) {\n    // 获取slide包裹层\n    var slideWrap = _utils2.default.$$('.fp-slide-wrap', sections[page.nowPage - 1])[0];\n\n    if (!slideWrap) {\n      console.log('This page has no slide');\n      return false;\n    }\n\n    // 当前页面下所有的slide\n    var slide = sections[page.nowPage - 1].querySelectorAll('.fp-slide');\n\n    // 当前页面上存储的数据\n    var slideData = slideWrap.dataset;\n\n    // 当前页面上slide的index\n    var slideNowIndex = parseInt(slideData.index, 10);\n\n    // 当前页面上slide的x轴偏移值\n    var slideX = slideData.x;\n\n    var slideDiff = slideIndex - slideNowIndex;\n\n    if (slideIndex >= 1 && slideIndex <= slide.length && !page.isScrolling) {\n      if (typeof options.beforeSlideLeave === 'function') {\n        /**\n         * leaveSlide           函数内部 this 指向，将要离开的 slide\n         * page.nowPage         将要离开 section 的 index\n         * slideNowIndex        将要离开 slide 的 index\n         * slideIndex           将要载入 slide 的 index\n         */\n        options.beforeSlideLeave.call(slide[slideNowIndex - 1], page.nowPage, slideNowIndex, slideIndex);\n      }\n\n      slide[slideNowIndex - 1].classList.remove('active');\n      slideX -= slideDiff * _constant.stepWidth;\n      _utils2.default.translate(slideWrap, slideX, 'x');\n      page.isScrolling = true;\n      slideData.x = slideX;\n      slideData.index = slideIndex;\n      slide[slideIndex - 1].classList.add('active');\n\n      if (typeof options.afterSlideLoad === 'function') {\n        options.pageSpeed = options.pageSpeed ? 500 : options.pageSpeed;\n        setTimeout(function () {\n          /**\n           * nowSection 函数内部 this 指向，载入后的 section\n           * pageIndex 载入后的 index\n           */\n          options.afterSlideLoad.call(slide[slideIndex - 1], page.nowPage, slideIndex);\n        }, options.pageSpeed);\n      }\n      return true;\n    }\n    return false;\n  },\n  /**\n   * Scroll to a specified section and slide.\n   * @param pageIndex {number}\n   * @param slideIndex {number}\n   * @returns {boolean}\n   */\n  moveTo: function moveTo(pageIndex, slideIndex) {\n    // DONE move to a specify section or slide\n    if (page.scrollPage(pageIndex)) {\n      if (slideIndex) {\n        // DONE move to a specify slide\n        return !!page.scrollSlide(slideIndex);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  },\n  move: {\n    next: function next(callback) {\n      if (page.scrollPage(page.nowPage + 1)) {\n        var arg = Array.prototype.slice.call(arguments, 1);\n\n        if (typeof callback === 'function') {\n          callback(arg);\n        }\n        return true;\n      } else if (options.loopSection) {\n        page.moveTo(1);\n\n        return true;\n      } else {\n        return false;\n      }\n    },\n    pre: function pre(callback) {\n      if (page.scrollPage(page.nowPage - 1)) {\n        var arg = Array.prototype.slice.call(arguments, 1);\n\n        if (typeof callback === 'function') {\n          callback(arg);\n        }\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n  slide: {\n    /**\n     * slide move 方法，移动到上一个或下一个 slide\n     * @param {string} direction 要移动的方向，next 为下一个， pre 为上一个\n     * @returns {boolean}\n     */\n    move: function move(direction) {\n      var slideWrap = _utils2.default.$$('.fp-slide-wrap', sections[page.nowPage - 1])[0];\n      var slide = sections[page.nowPage - 1].querySelectorAll('.fp-slide');\n      // slideNowIndexChange slideNowIndex 将要的变化\n      var slideNowIndexChange = undefined;\n      // slideWillBe 将要滚到slide的index\n      var slideWillBe = undefined;\n      if (direction === 'next') {\n        slideNowIndexChange = 1;\n        slideWillBe = 1;\n      } else {\n        slideNowIndexChange = -1;\n        slideWillBe = slide.length;\n      }\n      if (!slideWrap) {\n        return false;\n      } else {\n        var slideData = slideWrap.dataset;\n        var slideNowIndex = parseInt(slideData.index, 10);\n\n        if (page.scrollSlide(slideNowIndex + slideNowIndexChange)) {\n          slideData.index = slideNowIndex + slideNowIndexChange;\n          return true;\n        } else if (options.loopSlide && page.scrollSlide(slideWillBe)) {\n          slideData.index = slideWillBe;\n          return true;\n        }\n        return false;\n      }\n    },\n    next: function next() {\n      this.move('next');\n    },\n    pre: function pre() {\n      this.move('pre');\n    }\n  }\n};\n\nexports.bootstrap = bootstrap;\nexports.page = page;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYm9vdHN0cmFwLmpzP2ZjMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnXG5pbXBvcnQge2RlZmF1bHRzLCBzdGVwSGVpZ2h0LCBzdGVwV2lkdGh9IGZyb20gJy4vY29uc3RhbnQnXG5pbXBvcnQgYmluZEV2ZW50IGZyb20gJy4vZXZlbnRzJ1xuXG5sZXQgc2VjdGlvbkNvbnRlbnRcbmxldCBzZWN0aW9uc1xubGV0IG9wdGlvbnNcbmxldCBwYWdlXG5cbmZ1bmN0aW9uIGJvb3RzdHJhcCAoZWxlLCBDdXN0b21pemUpIHtcbiAgc2VjdGlvbkNvbnRlbnQgPSB1dGlscy4kJChlbGUpWzBdXG4gIHNlY3Rpb25zID0gdXRpbHMuJCQoJy5mcC1zZWN0aW9uJylcbiAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBDdXN0b21pemUpXG4gIGluaXRFbGUoKVxuICBiaW5kRXZlbnQob3B0aW9ucywgcGFnZSlcbn1cblxuZnVuY3Rpb24gaW5pdEVsZSAoKSB7XG4gIGZ1bmN0aW9uIGluaXQgKCkge1xuICAgIGluaXRDb250ZW50KClcbiAgICBpbml0U2xpZGUoKVxuICAgIHBhZ2VDb250cm9sbGVyKClcbiAgICBjdXN0b21pemUoKVxuICB9XG5cbiAgaW5pdCgpXG4gIC8qKlxuICAgKiDliJ3lp4vljJYgU2VjdGlvblxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdENvbnRlbnQgKCkge1xuICAgIHV0aWxzLnNldENzcyhzZWN0aW9uQ29udGVudCwge1xuICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgwLDAsMCknLFxuICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKDAsMCwwKScsXG4gICAgICAndHJhbnNpdGlvbkR1cmF0aW9uJzogb3B0aW9ucy5wYWdlU3BlZWQgKyAnbXMnLFxuICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbkR1cmF0aW9uJzogb3B0aW9ucy5wYWdlU3BlZWQgKyAnbXMnLFxuICAgICAgJ2Rpc3BsYXknOiAnYmxvY2snXG4gICAgfSlcblxuICAgIHNlY3Rpb25Db250ZW50LmFkZEV2ZW50TGlzdGVuZXIodXRpbHMudHJhbnNpdGlvbkV2ZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICBwYWdlLmlzU2Nyb2xsaW5nID0gZmFsc2VcbiAgICB9LCBmYWxzZSlcblxuICAgIGZvciAobGV0IGkgPSBzZWN0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgc2VjdGlvbnNbaV0uc3R5bGUuaGVpZ2h0ID0gc3RlcEhlaWdodCArICdweCdcbiAgICB9XG5cbiAgICBzZWN0aW9uc1twYWdlLm5vd1BhZ2UgLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMliBTbGlkZVxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdFNsaWRlICgpIHtcbiAgICBsZXQgc2xpZGVXcmFwID0gdXRpbHMuJCQoJy5mcC1zbGlkZS13cmFwJylcbiAgICBsZXQgc2xpZGVzXG5cbiAgICBmdW5jdGlvbiBzbGlkZVdyYXBJbml0SGFuZGxlICgpIHtcbiAgICAgIHBhZ2UuaXNTY3JvbGxpbmcgPSBmYWxzZVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBzbGlkZVdyYXAubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHNsaWRlcyA9IHV0aWxzLiQkKCcuZnAtc2xpZGUnLCBzbGlkZVdyYXBbaV0pXG4gICAgICBmb3IgKGxldCBqID0gc2xpZGVzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgIHNsaWRlc1tqXS5zdHlsZS53aWR0aCA9IHN0ZXBXaWR0aCArICdweCdcbiAgICAgIH1cbiAgICAgIHNsaWRlV3JhcFtpXS5zdHlsZS53aWR0aCA9IHNsaWRlcy5sZW5ndGggKiBzdGVwV2lkdGggKyAncHgnXG4gICAgICBzbGlkZVdyYXBbaV0uZGF0YXNldC54ID0gJzAnXG4gICAgICBzbGlkZVdyYXBbaV0uZGF0YXNldC5pbmRleCA9ICcxJ1xuICAgICAgc2xpZGVXcmFwW2ldLmFkZEV2ZW50TGlzdGVuZXIodXRpbHMudHJhbnNpdGlvbkV2ZW50LCBzbGlkZVdyYXBJbml0SGFuZGxlLCBmYWxzZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Yid5aeL5YyW57+76aG15o6n5Yi254K5XG4gICAqL1xuICBmdW5jdGlvbiBwYWdlQ29udHJvbGxlciAoKSB7XG4gICAgZnVuY3Rpb24gaW5pdCAoKSB7XG4gICAgICBjcmVhdGVDb250cm9sbGVyTm9kZSgpXG4gICAgICBiaW5kRXZlbnQoKVxuICAgICAgaW5pdENvbnRyb2xsZXIoKVxuICAgIH1cblxuICAgIGluaXQoKVxuICAgIC8vIOaPkuWFpeaOp+WItueCuVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xsZXJOb2RlICgpIHtcbiAgICAgIGxldCBjb250cm9sbGVyV3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICBsZXQgY29udHJvbGxlclRleHQgPSAnJ1xuICAgICAgY29udHJvbGxlcldyYXAuY2xhc3NOYW1lID0gJ2ZwLWNvbnRyb2xsZXInXG4gICAgICBmb3IgKGxldCBpID0gc2VjdGlvbnMubGVuZ3RoOyBpLS07IGkgPiAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXJUZXh0ICs9IFwiPGRpdiBjbGFzcz0nZnAtY29udHJvbGxlci1kb3R0ZWQnPjwvZGl2PlwiXG4gICAgICB9XG4gICAgICBjb250cm9sbGVyV3JhcC5pbm5lckhUTUwgPSBjb250cm9sbGVyVGV4dFxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250cm9sbGVyV3JhcClcbiAgICB9XG5cbiAgICAvLyDnu5nmjqfliLbngrnnu5HlrprliIfmjaLkuovku7ZcbiAgICBmdW5jdGlvbiBiaW5kRXZlbnQgKCkge1xuICAgICAgbGV0IGNvbnRyb2xsZXJzID0gdXRpbHMuJCQoJy5mcC1jb250cm9sbGVyLWRvdHRlZCcpXG4gICAgICBmb3IgKGxldCBpID0gY29udHJvbGxlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29udHJvbGxlcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoZWxwZXIoaSArIDEpLCBmYWxzZSlcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGhlbHBlciAoaSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHV0aWxzLmFkZENsYXNzVG9PbmVFbGUoY29udHJvbGxlcnMsIGkgLSAxKVxuICAgICAgICAgIHBhZ2UubW92ZVRvKGkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDojrflj5bmjqfliLbngrnliJ3or5XnirbmgIFcbiAgICBmdW5jdGlvbiBpbml0Q29udHJvbGxlciAoKSB7XG4gICAgICBsZXQgY29udHJvbGxlcnMgPSB1dGlscy4kJCgnLmZwLWNvbnRyb2xsZXItZG90dGVkJylcbiAgICAgIGNvbnRyb2xsZXJzW3BhZ2Uubm93UGFnZSAtIDFdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluWumuWItuWGheWuuVxuICAgKi9cbiAgZnVuY3Rpb24gY3VzdG9taXplICgpIHtcbiAgICBsZXQgcHJvcCA9IHtcbiAgICAgIGF1dG9TY3JvbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHRpbWVyID0gbnVsbFxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvU2Nyb2xsKSB7XG4gICAgICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYWdlLm1vdmUubmV4dCgpXG4gICAgICAgICAgfSwgb3B0aW9ucy5hdXRvU2Nyb2xsRHVyYXRpb24pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBrZXkgaW4gcHJvcCkge1xuICAgICAgaWYgKHByb3AuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBwcm9wW2tleV0oKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5wYWdlID0ge1xuICBub3dQYWdlOiAxLFxuICBpc1Njcm9sbGluZzogZmFsc2UsXG4gIHRyYW5zbGF0ZTNkWTogMCxcbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmllZCBwYWdlLlxuICAgKiBAcGFyYW0gcGFnZUluZGV4IHtudW1iZXJ9IFRoZSBwYWdlIGluZGV4IHlvdSB3YW50IHNjcm9sbCB0by5cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzY3JvbGxQYWdlOiBmdW5jdGlvbiAocGFnZUluZGV4KSB7XG4gICAgbGV0IHBhZ2VEaWZmID0gcGFnZUluZGV4IC0gcGFnZS5ub3dQYWdlXG4gICAgbGV0IGxlYXZlU2VjdGlvbiA9IHNlY3Rpb25zW3BhZ2Uubm93UGFnZSAtIDFdXG4gICAgbGV0IG5vd1NlY3Rpb24gPSBzZWN0aW9uc1twYWdlSW5kZXggLSAxXVxuICAgIGxldCBjb250cm9sbGVycyA9IHV0aWxzLiQkKCcuZnAtY29udHJvbGxlci1kb3R0ZWQnKVxuICAgIGlmIChwYWdlSW5kZXggPj0gMSAmJiBwYWdlSW5kZXggPD0gc2VjdGlvbnMubGVuZ3RoICYmICFwYWdlLmlzU2Nyb2xsaW5nICYmIHBhZ2VEaWZmKSB7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYmVmb3JlTGVhdmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxlYXZlU2VjdGlvbiDlh73mlbDlhoXpg6ggdGhpcyDmjIflkJHvvIzlsIbopoHnprvlvIDnmoQgc2VjdGlvblxuICAgICAgICAgKiBwYWdlLm5vd1BhZ2Ug5bCG6KaB56a75byA6aG16Z2i55qEIGluZGV4XG4gICAgICAgICAqIHBhZ2VJbmRleCAgICDlsIbopoHovb3lhaXpobXpnaLnmoQgaW5kZXhcbiAgICAgICAgICovXG4gICAgICAgIG9wdGlvbnMuYmVmb3JlTGVhdmUuY2FsbChsZWF2ZVNlY3Rpb24sIHBhZ2Uubm93UGFnZSwgcGFnZUluZGV4KVxuICAgICAgfVxuXG4gICAgICBsZWF2ZVNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgIHV0aWxzLmFkZENsYXNzVG9PbmVFbGUoY29udHJvbGxlcnMsIHBhZ2VJbmRleCAtIDEpXG4gICAgICBwYWdlLnRyYW5zbGF0ZTNkWSAtPSBwYWdlRGlmZiAqIHN0ZXBIZWlnaHRcbiAgICAgIHV0aWxzLnRyYW5zbGF0ZShzZWN0aW9uQ29udGVudCwgcGFnZS50cmFuc2xhdGUzZFksICd5JylcbiAgICAgIHBhZ2UuaXNTY3JvbGxpbmcgPSB0cnVlXG4gICAgICBwYWdlLm5vd1BhZ2UgPSBwYWdlSW5kZXhcbiAgICAgIG5vd1NlY3Rpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmFmdGVyTG9hZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvcHRpb25zLnBhZ2VTcGVlZCA9IG9wdGlvbnMucGFnZVNwZWVkID8gNTAwIDogb3B0aW9ucy5wYWdlU3BlZWRcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogbm93U2VjdGlvbiDlh73mlbDlhoXpg6ggdGhpcyDmjIflkJHvvIzovb3lhaXlkI7nmoQgc2VjdGlvblxuICAgICAgICAgICAqIHBhZ2VJbmRleCDovb3lhaXlkI7nmoQgaW5kZXhcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBvcHRpb25zLmFmdGVyTG9hZC5jYWxsKG5vd1NlY3Rpb24sIHBhZ2VJbmRleClcbiAgICAgICAgfSwgb3B0aW9ucy5wYWdlU3BlZWQpXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpZWQgc2xpZGUuXG4gICAqIEBwYXJhbSBzbGlkZUluZGV4IHtudW1iZXJ9IFRoZSBzbGlkZSBpbmRleCB5b3Ugd2FudCBzY3JvbGwgdG8uXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgc2Nyb2xsU2xpZGU6IGZ1bmN0aW9uIChzbGlkZUluZGV4KSB7XG4gICAgLy8g6I635Y+Wc2xpZGXljIXoo7nlsYJcbiAgICBsZXQgc2xpZGVXcmFwID0gdXRpbHMuJCQoJy5mcC1zbGlkZS13cmFwJywgc2VjdGlvbnNbcGFnZS5ub3dQYWdlIC0gMV0pWzBdXG5cbiAgICBpZiAoIXNsaWRlV3JhcCkge1xuICAgICAgY29uc29sZS5sb2coJ1RoaXMgcGFnZSBoYXMgbm8gc2xpZGUnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLy8g5b2T5YmN6aG16Z2i5LiL5omA5pyJ55qEc2xpZGVcbiAgICBsZXQgc2xpZGUgPSBzZWN0aW9uc1twYWdlLm5vd1BhZ2UgLSAxXS5xdWVyeVNlbGVjdG9yQWxsKCcuZnAtc2xpZGUnKVxuXG4gICAgLy8g5b2T5YmN6aG16Z2i5LiK5a2Y5YKo55qE5pWw5o2uXG4gICAgbGV0IHNsaWRlRGF0YSA9IHNsaWRlV3JhcC5kYXRhc2V0XG5cbiAgICAvLyDlvZPliY3pobXpnaLkuIpzbGlkZeeahGluZGV4XG4gICAgbGV0IHNsaWRlTm93SW5kZXggPSBwYXJzZUludChzbGlkZURhdGEuaW5kZXgsIDEwKVxuXG4gICAgLy8g5b2T5YmN6aG16Z2i5LiKc2xpZGXnmoR46L205YGP56e75YC8XG4gICAgbGV0IHNsaWRlWCA9IHNsaWRlRGF0YS54XG5cbiAgICBsZXQgc2xpZGVEaWZmID0gc2xpZGVJbmRleCAtIHNsaWRlTm93SW5kZXhcblxuICAgIGlmIChzbGlkZUluZGV4ID49IDEgJiYgc2xpZGVJbmRleCA8PSBzbGlkZS5sZW5ndGggJiYgIXBhZ2UuaXNTY3JvbGxpbmcpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5iZWZvcmVTbGlkZUxlYXZlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBsZWF2ZVNsaWRlICAgICAgICAgICDlh73mlbDlhoXpg6ggdGhpcyDmjIflkJHvvIzlsIbopoHnprvlvIDnmoQgc2xpZGVcbiAgICAgICAgICogcGFnZS5ub3dQYWdlICAgICAgICAg5bCG6KaB56a75byAIHNlY3Rpb24g55qEIGluZGV4XG4gICAgICAgICAqIHNsaWRlTm93SW5kZXggICAgICAgIOWwhuimgeemu+W8gCBzbGlkZSDnmoQgaW5kZXhcbiAgICAgICAgICogc2xpZGVJbmRleCAgICAgICAgICAg5bCG6KaB6L295YWlIHNsaWRlIOeahCBpbmRleFxuICAgICAgICAgKi9cbiAgICAgICAgb3B0aW9ucy5iZWZvcmVTbGlkZUxlYXZlLmNhbGwoc2xpZGVbc2xpZGVOb3dJbmRleCAtIDFdLCBwYWdlLm5vd1BhZ2UsIHNsaWRlTm93SW5kZXgsIHNsaWRlSW5kZXgpXG4gICAgICB9XG5cbiAgICAgIHNsaWRlW3NsaWRlTm93SW5kZXggLSAxXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgc2xpZGVYIC09IHNsaWRlRGlmZiAqIHN0ZXBXaWR0aFxuICAgICAgdXRpbHMudHJhbnNsYXRlKHNsaWRlV3JhcCwgc2xpZGVYLCAneCcpXG4gICAgICBwYWdlLmlzU2Nyb2xsaW5nID0gdHJ1ZVxuICAgICAgc2xpZGVEYXRhLnggPSBzbGlkZVhcbiAgICAgIHNsaWRlRGF0YS5pbmRleCA9IHNsaWRlSW5kZXhcbiAgICAgIHNsaWRlW3NsaWRlSW5kZXggLSAxXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMuYWZ0ZXJTbGlkZUxvYWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucy5wYWdlU3BlZWQgPSBvcHRpb25zLnBhZ2VTcGVlZCA/IDUwMCA6IG9wdGlvbnMucGFnZVNwZWVkXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIG5vd1NlY3Rpb24g5Ye95pWw5YaF6YOoIHRoaXMg5oyH5ZCR77yM6L295YWl5ZCO55qEIHNlY3Rpb25cbiAgICAgICAgICAgKiBwYWdlSW5kZXgg6L295YWl5ZCO55qEIGluZGV4XG4gICAgICAgICAgICovXG4gICAgICAgICAgb3B0aW9ucy5hZnRlclNsaWRlTG9hZC5jYWxsKHNsaWRlW3NsaWRlSW5kZXggLSAxXSwgcGFnZS5ub3dQYWdlLCBzbGlkZUluZGV4KVxuICAgICAgICB9LCBvcHRpb25zLnBhZ2VTcGVlZClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9LFxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWVkIHNlY3Rpb24gYW5kIHNsaWRlLlxuICAgKiBAcGFyYW0gcGFnZUluZGV4IHtudW1iZXJ9XG4gICAqIEBwYXJhbSBzbGlkZUluZGV4IHtudW1iZXJ9XG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgbW92ZVRvOiBmdW5jdGlvbiAocGFnZUluZGV4LCBzbGlkZUluZGV4KSB7XG4gICAgLy8gRE9ORSBtb3ZlIHRvIGEgc3BlY2lmeSBzZWN0aW9uIG9yIHNsaWRlXG4gICAgaWYgKHBhZ2Uuc2Nyb2xsUGFnZShwYWdlSW5kZXgpKSB7XG4gICAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgICAvLyBET05FIG1vdmUgdG8gYSBzcGVjaWZ5IHNsaWRlXG4gICAgICAgIHJldHVybiAhIXBhZ2Uuc2Nyb2xsU2xpZGUoc2xpZGVJbmRleClcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgbW92ZToge1xuICAgIG5leHQ6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgaWYgKHBhZ2Uuc2Nyb2xsUGFnZShwYWdlLm5vd1BhZ2UgKyAxKSkge1xuICAgICAgICBsZXQgYXJnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuXG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhhcmcpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5sb29wU2VjdGlvbikge1xuICAgICAgICBwYWdlLm1vdmVUbygxKVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuICAgIHByZTogZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBpZiAocGFnZS5zY3JvbGxQYWdlKHBhZ2Uubm93UGFnZSAtIDEpKSB7XG4gICAgICAgIGxldCBhcmcgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNhbGxiYWNrKGFyZylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzbGlkZToge1xuICAgIC8qKlxuICAgICAqIHNsaWRlIG1vdmUg5pa55rOV77yM56e75Yqo5Yiw5LiK5LiA5Liq5oiW5LiL5LiA5LiqIHNsaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpcmVjdGlvbiDopoHnp7vliqjnmoTmlrnlkJHvvIxuZXh0IOS4uuS4i+S4gOS4qu+8jCBwcmUg5Li65LiK5LiA5LiqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgbW92ZTogZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgbGV0IHNsaWRlV3JhcCA9IHV0aWxzLiQkKCcuZnAtc2xpZGUtd3JhcCcsIHNlY3Rpb25zW3BhZ2Uubm93UGFnZSAtIDFdKVswXVxuICAgICAgbGV0IHNsaWRlID0gc2VjdGlvbnNbcGFnZS5ub3dQYWdlIC0gMV0ucXVlcnlTZWxlY3RvckFsbCgnLmZwLXNsaWRlJylcbiAgICAgIC8vIHNsaWRlTm93SW5kZXhDaGFuZ2Ugc2xpZGVOb3dJbmRleCDlsIbopoHnmoTlj5jljJZcbiAgICAgIGxldCBzbGlkZU5vd0luZGV4Q2hhbmdlXG4gICAgICAvLyBzbGlkZVdpbGxCZSDlsIbopoHmu5rliLBzbGlkZeeahGluZGV4XG4gICAgICBsZXQgc2xpZGVXaWxsQmVcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xuICAgICAgICBzbGlkZU5vd0luZGV4Q2hhbmdlID0gMVxuICAgICAgICBzbGlkZVdpbGxCZSA9IDFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlTm93SW5kZXhDaGFuZ2UgPSAtMVxuICAgICAgICBzbGlkZVdpbGxCZSA9IHNsaWRlLmxlbmd0aFxuICAgICAgfVxuICAgICAgaWYgKCFzbGlkZVdyYXApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc2xpZGVEYXRhID0gc2xpZGVXcmFwLmRhdGFzZXRcbiAgICAgICAgbGV0IHNsaWRlTm93SW5kZXggPSBwYXJzZUludChzbGlkZURhdGEuaW5kZXgsIDEwKVxuXG4gICAgICAgIGlmIChwYWdlLnNjcm9sbFNsaWRlKHNsaWRlTm93SW5kZXggKyBzbGlkZU5vd0luZGV4Q2hhbmdlKSkge1xuICAgICAgICAgIHNsaWRlRGF0YS5pbmRleCA9IHNsaWRlTm93SW5kZXggKyBzbGlkZU5vd0luZGV4Q2hhbmdlXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmxvb3BTbGlkZSAmJiBwYWdlLnNjcm9sbFNsaWRlKHNsaWRlV2lsbEJlKSkge1xuICAgICAgICAgIHNsaWRlRGF0YS5pbmRleCA9IHNsaWRlV2lsbEJlXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubW92ZSgnbmV4dCcpXG4gICAgfSxcbiAgICBwcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMubW92ZSgncHJlJylcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtib290c3RyYXAsIHBhZ2V9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvYm9vdHN0cmFwLmpzXG4gKiovIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7Ozs7QUFSQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFqQkE7QUFDQTs7OztBQWJBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFSQTtBQUNBOzs7O0FBcENBO0FBMkRBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBOztBQVBBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQVJBO0FBQ0E7O0FBVkE7QUFzQkE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFMQTtBQUNBOztBQXRCQTtBQW9DQTtBQUNBO0FBRkE7QUFuQ0E7QUFDQTs7OztBQTNEQTtBQXVHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQURBO0FBRkE7QUFEQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBREE7QUFEQTtBQVpBO0FBdEdBO0FBQ0E7QUF5SEE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBTEE7QUFGQTtBQVVBO0FBNUJBO0FBOEJBO0FBOUJBO0FBTEE7Ozs7OztBQTJDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTs7QUFMQTtBQUNBOztBQURBO0FBQ0E7O0FBREE7QUFDQTs7QUFEQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUxBO0FBRkE7QUFVQTtBQTdCQTtBQStCQTtBQXREQTs7Ozs7OztBQThEQTs7QUFFQTtBQUNBOztBQUVBO0FBRkE7QUFJQTtBQUxBO0FBT0E7QUFQQTtBQUZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBTEE7QUFSQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTkE7QUFRQTtBQVJBO0FBREE7QUFqQkE7QUE4QkE7Ozs7OztBQU1BO0FBQ0E7QUFDQTs7QUFGQTs7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRkE7QUFJQTtBQWJBO0FBZEE7QUE4QkE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBdkNBO0FBNUpBO0FBQ0E7QUF3TUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaults = exports.stepWidth = exports.stepHeight = undefined;\n\nvar _utils = __webpack_require__(1);\n\nvar _utils2 = _interopRequireDefault(_utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar stepHeight = _utils2.default.$$('body')[0].scrollHeight;\nvar stepWidth = _utils2.default.$$('body')[0].scrollWidth;\nvar defaults = {\n  threshold: 50, // 触发滚动事件的阈值，越小越灵敏\n  pageSpeed: 500, // 滚屏速度，单位为毫秒 ms\n  autoScroll: false, // DONE 是否自动播放\n  autoScrollDuration: 1000, // DONE 自动播放间隔时间\n  loopSection: true, // DONE Section循环滚动\n  loopSlide: true, // DONE Slide循环滑动\n  afterLoad: null, // DONE 页面载入事件\n  beforeLeave: null, // DONE 页面离开事件\n  afterSlideLoad: null, // DONE slide 载入事件\n  beforeSlideLeave: null // DONE slide 离开事件\n};\n\nexports.stepHeight = stepHeight;\nexports.stepWidth = stepWidth;\nexports.defaults = defaults;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvY29uc3RhbnQuanM/ZGVhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscydcblxuY29uc3Qgc3RlcEhlaWdodCA9IHV0aWxzLiQkKCdib2R5JylbMF0uc2Nyb2xsSGVpZ2h0XG5jb25zdCBzdGVwV2lkdGggPSB1dGlscy4kJCgnYm9keScpWzBdLnNjcm9sbFdpZHRoXG5jb25zdCBkZWZhdWx0cyA9IHtcbiAgdGhyZXNob2xkOiA1MCwgICAgICAgICAgICAgIC8vIOinpuWPkea7muWKqOS6i+S7tueahOmYiOWAvO+8jOi2iuWwj+i2iueBteaVj1xuICBwYWdlU3BlZWQ6IDUwMCwgICAgICAgICAgICAgLy8g5rua5bGP6YCf5bqm77yM5Y2V5L2N5Li65q+r56eSIG1zXG4gIGF1dG9TY3JvbGw6IGZhbHNlLCAgICAgICAgICAvLyBET05FIOaYr+WQpuiHquWKqOaSreaUvlxuICBhdXRvU2Nyb2xsRHVyYXRpb246IDEwMDAsICAgLy8gRE9ORSDoh6rliqjmkq3mlL7pl7TpmpTml7bpl7RcbiAgbG9vcFNlY3Rpb246IHRydWUsICAgICAgICAgIC8vIERPTkUgU2VjdGlvbuW+queOr+a7muWKqFxuICBsb29wU2xpZGU6IHRydWUsICAgICAgICAgICAgLy8gRE9ORSBTbGlkZeW+queOr+a7keWKqFxuICBhZnRlckxvYWQ6IG51bGwsICAgICAgICAgICAgLy8gRE9ORSDpobXpnaLovb3lhaXkuovku7ZcbiAgYmVmb3JlTGVhdmU6IG51bGwsICAgICAgICAgICAvLyBET05FIOmhtemdouemu+W8gOS6i+S7tlxuICBhZnRlclNsaWRlTG9hZDogbnVsbCwgICAgICAgIC8vIERPTkUgc2xpZGUg6L295YWl5LqL5Lu2XG4gIGJlZm9yZVNsaWRlTGVhdmU6IG51bGwgICAgICAvLyBET05FIHNsaWRlIOemu+W8gOS6i+S7tlxufVxuXG5leHBvcnQge1xuICBzdGVwSGVpZ2h0LFxuICBzdGVwV2lkdGgsXG4gIGRlZmF1bHRzXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvY29uc3RhbnQuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFhQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction bindEvent(options, page) {\n  var Events = [];\n\n  /**\n   * 绑定触摸事件\n   */\n  function bindTouchMove() {\n    var startPos = {};\n    var movePos = {};\n    var diffX = undefined;\n    var diffY = undefined;\n    var touch = undefined;\n    var onceTouch = false; //  判断是否为一次触摸，保证一次触摸只触发一次事件\n\n    var threshold = options.threshold; //  阈值,灵敏度，越小越灵敏\n    var isVertical = undefined; //  是否为垂直滚动事件\n\n    function touchstartHandle(event) {\n      //  onceTouch首先置为true，表明开始了一次触摸\n      onceTouch = true;\n      //  初始化 x,y 值，防止点击一次后出现假 move 事件\n      startPos = {};\n      if (event.target.tagName.toLowerCase() !== 'a') {\n        event.preventDefault();\n      }\n      touch = event.touches[0];\n      startPos.x = touch.pageX;\n      startPos.y = touch.pageY;\n    }\n\n    function touchmoveHandle(event) {\n      event.preventDefault();\n      touch = event.touches[0];\n      movePos.x = touch.pageX;\n      movePos.y = touch.pageY;\n      diffX = startPos.x - movePos.x;\n      diffY = startPos.y - movePos.y;\n\n      // 如果页面正在滚动或者不是一次滚动事件，则直接return掉\n      if (page.isScrolling || !onceTouch) {\n        return false;\n      }\n\n      isVertical = Math.abs(diffX) - Math.abs(diffY) <= 0;\n      // 如果diff大于阈值，则事件触发，将onceTouch置为false\n      onceTouch = Math.max(diffX, diffY) <= threshold;\n      if (!isVertical) {\n        if (diffX > threshold) {\n          // Move to left\n          page.slide.next();\n        } else if (diffX < -threshold) {\n          // Move to right\n          page.slide.pre();\n        }\n      } else {\n        // isVertical = true\n        if (diffY > threshold) {\n          // Move to top\n          page.move.next();\n        } else if (diffY < -threshold) {\n          // Move to bottom\n          page.move.pre();\n        }\n      }\n    }\n\n    function touchendHandle(event) {\n      if (event.target.tagName.toLowerCase() !== 'a') {\n        event.preventDefault();\n      }\n      // 重置onceTouch为true\n      onceTouch = true;\n    }\n\n    document.addEventListener('touchstart', touchstartHandle, false);\n\n    document.addEventListener('touchmove', touchmoveHandle, false);\n\n    document.addEventListener('touchend', touchendHandle, false);\n  }\n\n  /**\n   * 绑定鼠标滚动事件\n   */\n  function bindMouseWheel() {\n    // FIXME change the way binding event.\n    var type = undefined;\n    var deltaY = undefined;\n\n    if (navigator.userAgent.toLowerCase().indexOf('firefox') !== -1) {\n      type = 'DOMMouseScroll';\n    } else {\n      type = 'mousewheel';\n    }\n\n    function mouseWheelHandle(event) {\n      if (page.isScrolling) {\n        return false;\n      }\n      deltaY = event.detail || -event.wheelDelta || event.deltaY;\n      if (deltaY > 0) {\n        page.move.next();\n        // console.log('next')\n      } else if (deltaY < 0) {\n          page.move.pre();\n          // console.log('pre')\n        }\n    }\n\n    document.addEventListener(type, mouseWheelHandle, false);\n  }\n\n  /**\n   * 绑定键盘事件\n   */\n  function bindKeyboard() {\n    function keyboardHandle(event) {\n      var key = event.keyCode || event.which;\n      switch (key) {\n        case 37:\n          page.slide.pre();\n          break;\n        case 38:\n          page.move.pre();\n          break;\n        case 39:\n          page.slide.next();\n          break;\n        case 40:\n          page.move.next();\n          break;\n      }\n    }\n\n    document.addEventListener('keydown', keyboardHandle, false);\n  }\n\n  Events.push(bindTouchMove, bindKeyboard, bindMouseWheel);\n\n  Events.forEach(function (now) {\n    now();\n  });\n}\n\nexports.default = bindEvent;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZXZlbnRzLmpzPzQ2MDciXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYmluZEV2ZW50IChvcHRpb25zLCBwYWdlKSB7XG4gIGNvbnN0IEV2ZW50cyA9IFtdXG5cbiAgLyoqXG4gICAqIOe7keWumuinpuaRuOS6i+S7tlxuICAgKi9cbiAgZnVuY3Rpb24gYmluZFRvdWNoTW92ZSAoKSB7XG4gICAgbGV0IHN0YXJ0UG9zID0ge31cbiAgICBsZXQgbW92ZVBvcyA9IHt9XG4gICAgbGV0IGRpZmZYXG4gICAgbGV0IGRpZmZZXG4gICAgbGV0IHRvdWNoXG4gICAgbGV0IG9uY2VUb3VjaCA9IGZhbHNlICAgICAgICAgICAgICAgICAgLy8gIOWIpOaWreaYr+WQpuS4uuS4gOasoeinpuaRuO+8jOS/neivgeS4gOasoeinpuaRuOWPquinpuWPkeS4gOasoeS6i+S7tlxuXG4gICAgbGV0IHRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkICAgICAgLy8gIOmYiOWAvCzngbXmlY/luqbvvIzotorlsI/otorngbXmlY9cbiAgICBsZXQgaXNWZXJ0aWNhbCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAg5piv5ZCm5Li65Z6C55u05rua5Yqo5LqL5Lu2XG5cbiAgICBmdW5jdGlvbiB0b3VjaHN0YXJ0SGFuZGxlIChldmVudCkge1xuICAgICAgLy8gIG9uY2VUb3VjaOmmluWFiOe9ruS4unRydWXvvIzooajmmI7lvIDlp4vkuobkuIDmrKHop6bmkbhcbiAgICAgIG9uY2VUb3VjaCA9IHRydWVcbiAgICAgIC8vICDliJ3lp4vljJYgeCx5IOWAvO+8jOmYsuatoueCueWHu+S4gOasoeWQjuWHuueOsOWBhyBtb3ZlIOS6i+S7tlxuICAgICAgc3RhcnRQb3MgPSB7fVxuICAgICAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdhJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICB9XG4gICAgICB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF1cbiAgICAgIHN0YXJ0UG9zLnggPSB0b3VjaC5wYWdlWFxuICAgICAgc3RhcnRQb3MueSA9IHRvdWNoLnBhZ2VZXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG91Y2htb3ZlSGFuZGxlIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdXG4gICAgICBtb3ZlUG9zLnggPSB0b3VjaC5wYWdlWFxuICAgICAgbW92ZVBvcy55ID0gdG91Y2gucGFnZVlcbiAgICAgIGRpZmZYID0gc3RhcnRQb3MueCAtIG1vdmVQb3MueFxuICAgICAgZGlmZlkgPSBzdGFydFBvcy55IC0gbW92ZVBvcy55XG5cbiAgICAgIC8vIOWmguaenOmhtemdouato+WcqOa7muWKqOaIluiAheS4jeaYr+S4gOasoea7muWKqOS6i+S7tu+8jOWImeebtOaOpXJldHVybuaOiVxuICAgICAgaWYgKHBhZ2UuaXNTY3JvbGxpbmcgfHwgIW9uY2VUb3VjaCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cblxuICAgICAgaXNWZXJ0aWNhbCA9IE1hdGguYWJzKGRpZmZYKSAtIE1hdGguYWJzKGRpZmZZKSA8PSAwXG4gICAgICAvLyDlpoLmnpxkaWZm5aSn5LqO6ZiI5YC877yM5YiZ5LqL5Lu26Kem5Y+R77yM5bCGb25jZVRvdWNo572u5Li6ZmFsc2VcbiAgICAgIG9uY2VUb3VjaCA9IE1hdGgubWF4KGRpZmZYLCBkaWZmWSkgPD0gdGhyZXNob2xkXG4gICAgICBpZiAoIWlzVmVydGljYWwpIHtcbiAgICAgICAgaWYgKGRpZmZYID4gdGhyZXNob2xkKSB7XG4gICAgICAgICAgLy8gTW92ZSB0byBsZWZ0XG4gICAgICAgICAgcGFnZS5zbGlkZS5uZXh0KClcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmWCA8IC10aHJlc2hvbGQpIHtcbiAgICAgICAgICAvLyBNb3ZlIHRvIHJpZ2h0XG4gICAgICAgICAgcGFnZS5zbGlkZS5wcmUoKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpc1ZlcnRpY2FsID0gdHJ1ZVxuICAgICAgICBpZiAoZGlmZlkgPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAvLyBNb3ZlIHRvIHRvcFxuICAgICAgICAgIHBhZ2UubW92ZS5uZXh0KClcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmWSA8IC10aHJlc2hvbGQpIHtcbiAgICAgICAgICAvLyBNb3ZlIHRvIGJvdHRvbVxuICAgICAgICAgIHBhZ2UubW92ZS5wcmUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG91Y2hlbmRIYW5kbGUgKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIH1cbiAgICAgIC8vIOmHjee9rm9uY2VUb3VjaOS4unRydWVcbiAgICAgIG9uY2VUb3VjaCA9IHRydWVcbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hzdGFydEhhbmRsZSwgZmFsc2UpXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmVIYW5kbGUsIGZhbHNlKVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0b3VjaGVuZEhhbmRsZSwgZmFsc2UpXG4gIH1cblxuICAvKipcbiAgICog57uR5a6a6byg5qCH5rua5Yqo5LqL5Lu2XG4gICAqL1xuICBmdW5jdGlvbiBiaW5kTW91c2VXaGVlbCAoKSB7XG4gICAgLy8gRklYTUUgY2hhbmdlIHRoZSB3YXkgYmluZGluZyBldmVudC5cbiAgICBsZXQgdHlwZVxuICAgIGxldCBkZWx0YVlcblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgdHlwZSA9ICdET01Nb3VzZVNjcm9sbCdcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9ICdtb3VzZXdoZWVsJ1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdXNlV2hlZWxIYW5kbGUgKGV2ZW50KSB7XG4gICAgICBpZiAocGFnZS5pc1Njcm9sbGluZykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGRlbHRhWSA9IGV2ZW50LmRldGFpbCB8fCAtZXZlbnQud2hlZWxEZWx0YSB8fCBldmVudC5kZWx0YVlcbiAgICAgIGlmIChkZWx0YVkgPiAwKSB7XG4gICAgICAgIHBhZ2UubW92ZS5uZXh0KClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ25leHQnKVxuICAgICAgfSBlbHNlIGlmIChkZWx0YVkgPCAwKSB7XG4gICAgICAgIHBhZ2UubW92ZS5wcmUoKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygncHJlJylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG1vdXNlV2hlZWxIYW5kbGUsIGZhbHNlKVxuICB9XG5cbiAgLyoqXG4gICAqIOe7keWumumUruebmOS6i+S7tlxuICAgKi9cbiAgZnVuY3Rpb24gYmluZEtleWJvYXJkICgpIHtcbiAgICBmdW5jdGlvbiBrZXlib2FyZEhhbmRsZSAoZXZlbnQpIHtcbiAgICAgIGxldCBrZXkgPSBldmVudC5rZXlDb2RlIHx8IGV2ZW50LndoaWNoXG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgIHBhZ2Uuc2xpZGUucHJlKClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgIHBhZ2UubW92ZS5wcmUoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgcGFnZS5zbGlkZS5uZXh0KClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgIHBhZ2UubW92ZS5uZXh0KClcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlib2FyZEhhbmRsZSwgZmFsc2UpXG4gIH1cblxuICBFdmVudHMucHVzaChiaW5kVG91Y2hNb3ZlLCBiaW5kS2V5Ym9hcmQsIGJpbmRNb3VzZVdoZWVsKVxuXG4gIEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChub3cpIHtcbiAgICBub3coKVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBiaW5kRXZlbnRcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9ldmVudHMuanNcbiAqKi8iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBOzs7O0FBRkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFDQTtBQURBOztBQWFBOztBQUZBO0FBS0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBVkE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBUEE7QUFVQTtBQURBO0FBQ0E7QUFHQTs7QUFiQTtBQWdCQTtBQUNBOztBQUVBO0FBRkE7O0FBS0E7QUFGQTtBQUpBOztBQVVBOztBQUVBO0FBRkE7O0FBS0E7QUFGQTtBQWJBO0FBaEJBO0FBQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBREE7O0FBREE7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhFQTtBQUNBOzs7O0FBUEE7O0FBc0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBOztBQURBO0FBSUE7O0FBREE7QUFSQTtBQUNBO0FBYUE7QUF6QkE7QUFDQTs7OztBQXJGQTtBQW9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFaQTtBQUZBO0FBQ0E7QUFpQkE7QUFuQkE7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBM0lBO0FBQ0E7QUErSUEiLCJzb3VyY2VSb290IjoiIn0=")}]);